<script src="/common/js/jquery-1.11.2.js"></script>
<script src="/common/js/bootstrap-3.3.2.js"></script>
<script src="/common/js/underscore-1.6.0.js"></script>
<script src="/common/js/q-1.1.2.js"></script>

<script type="text/javascript">

    window.Clima = window.Clima || {};
    //Clima.lang = "{{ lang }}";
    //Clima.texts  = {{ ctx.textsArray | stringify }};

	// simple polyfill for addEventListener (not available in IE8)
	Clima.addEvent = function(evnt, elem, func) {
	   if (elem.addEventListener)  // W3C DOM
	      elem.addEventListener(evnt,func,false);
	   else if (elem.attachEvent) { // IE DOM
	      elem.attachEvent("on"+evnt, func);
	   }
	   else { // No much to do
	      elem[evnt] = func;
	   }
	}

	// button from the navbar - login
	Clima.loginBtn = document.getElementById("js-login-nav");
	if(!!Clima.loginBtn){
		Clima.addEvent("click", Clima.loginBtn, function(){
			window.location.href = "/{{ lang }}/login";
		});
	}

	// button from the navbar - lang
	Clima.langBtn = document.getElementById("js-lang-nav");
	if(!!Clima.langBtn){
		Clima.addEvent("click", Clima.langBtn, function(){
			var currentPath = window.location.pathname.split("/");
			var newPath = "/" + (currentPath[1] === "pt" ? "en" : "pt");

			for(var i=2, l=currentPath.length; i<l; i++){
				newPath = newPath + "/" + currentPath[i];

			}
			window.location.href = newPath;
		});
	}

	// set the height of left and right columns (to make the gradient visible)
	Clima.mainContentHeight = $("#main-content").height();
	$("#left-column").height(Clima.mainContentHeight + "px");
	$("#right-column").height(Clima.mainContentHeight + "px");

</script>